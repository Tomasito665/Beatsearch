

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Reference &mdash; Beatsearch 0.0.2.a1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Beatsearch 0.0.2.a1 documentation" href="index.html"/>
        <link rel="prev" title="Midi" href="midi.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Beatsearch
          

          
          </a>

          
            
            
              <div class="version">
                0.0.2.a1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="rhythm_model.html">Rhythm model</a></li>
<li class="toctree-l1"><a class="reference internal" href="distance_metrics.html">Distance metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="feature_extraction.html">Feature extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="midi.html">Midi</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#rhythm">Rhythm</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Rhythm</a></li>
<li class="toctree-l3"><a class="reference internal" href="#monophonicrhythm">MonophonicRhythm</a></li>
<li class="toctree-l3"><a class="reference internal" href="#polyphonicrhythm">PolyphonicRhythm</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#feature-extraction">Feature Extraction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#monophonic-feature-extractors">Monophonic Feature Extractors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#polyphonic-feature-extractors">Polyphonic Feature Extractors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#midi">Midi</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#midirhythm">MidiRhythm</a></li>
<li class="toctree-l3"><a class="reference internal" href="#midirhythmcorpus">MidiRhythmCorpus</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mididrummapping">MidiDrumMapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-drum-mapping">create_drum_mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mididrumkey">MidiDrumKey</a></li>
<li class="toctree-l3"><a class="reference internal" href="#frequencyband">FrequencyBand</a></li>
<li class="toctree-l3"><a class="reference internal" href="#decaytime">DecayTime</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Beatsearch</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/reference.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="reference">
<h1>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="rhythm">
<h2>Rhythm<a class="headerlink" href="#rhythm" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Rhythm<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="beatsearch.rhythm.Rhythm">
<em class="property">class </em><code class="descclassname">beatsearch.rhythm.</code><code class="descname">Rhythm</code><a class="headerlink" href="#beatsearch.rhythm.Rhythm" title="Permalink to this definition">¶</a></dt>
<dd><p>Rhythm interface</p>
<p>This class consists of abstract rhythm functionality. All rhythm classes must implement this interface. This class
also provides generic functionality which makes use of the abstract methods.</p>
<dl class="class">
<dt id="beatsearch.rhythm.Rhythm.Precondition">
<em class="property">class </em><code class="descname">Precondition</code><a class="headerlink" href="#beatsearch.rhythm.Rhythm.Precondition" title="Permalink to this definition">¶</a></dt>
<dd><p>Preconditions for Rhythm methods</p>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.Rhythm.bpm">
<code class="descname">bpm</code><a class="headerlink" href="#beatsearch.rhythm.Rhythm.bpm" title="Permalink to this definition">¶</a></dt>
<dd><p>See Rhythm.set_bpm and Rhythm.get_bpm</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.Rhythm.duration_in_ticks">
<code class="descname">duration_in_ticks</code><a class="headerlink" href="#beatsearch.rhythm.Rhythm.duration_in_ticks" title="Permalink to this definition">¶</a></dt>
<dd><p>See Rhythm.set_duration_in_ticks and Rhythm.get_duration_in_ticks</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.Rhythm.get_beat_duration">
<code class="descname">get_beat_duration</code><span class="sig-paren">(</span><em>unit=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.Rhythm.get_beat_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the duration of one musical beat, based on the time signature.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-data docutils literal"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal"><span class="pre">Unit</span></code>, <code class="xref py py-class docutils literal"><span class="pre">Fraction</span></code>, <code class="xref py py-class docutils literal"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal"><span class="pre">float</span></code>, <code class="docutils literal"><span class="pre">None</span></code>]) &#8211; musical unit in which to return the beat duration or None to get the beat duration in ticks</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-data docutils literal"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal"><span class="pre">float</span></code>]</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the duration of one beat in the given musical unit or in ticks if no unit is given</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>TimeSignatureNotSet</strong> &#8211; if no time signature has been set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.Rhythm.get_bpm">
<code class="descname">get_bpm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.Rhythm.get_bpm" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the tempo of this rhythm in beats per minute.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">float</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">tempo of this rhythm in beats per minute</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.Rhythm.get_duration">
<code class="descname">get_duration</code><span class="sig-paren">(</span><em>unit=None</em>, <em>ceil=False</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.Rhythm.get_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the duration of this rhythm in the given musical time unit or in ticks if no unit is given.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>unit</strong> (<code class="xref py py-data docutils literal"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal"><span class="pre">Unit</span></code>, <code class="xref py py-class docutils literal"><span class="pre">Fraction</span></code>, <code class="xref py py-class docutils literal"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal"><span class="pre">float</span></code>, <code class="docutils literal"><span class="pre">None</span></code>]) &#8211; time unit in which to return the duration or None to get the duration in ticks</li>
<li><strong>ceil</strong> (<code class="xref py py-class docutils literal"><span class="pre">bool</span></code>) &#8211; if True, the returned duration will be rounded up (ignored if unit is set to None)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-data docutils literal"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal"><span class="pre">float</span></code>]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">duration of this rhythm in given unit or in ticks if no unit is given</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.Rhythm.get_duration_in_measures">
<code class="descname">get_duration_in_measures</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.Rhythm.get_duration_in_measures" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the duration of this rhythm in musical measures as a floating point number.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the duration of this rhythm in measures as a floating point number</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>TimeSignatureNotSet</strong> &#8211; if no time signature has been set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.Rhythm.get_duration_in_ticks">
<code class="descname">get_duration_in_ticks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.Rhythm.get_duration_in_ticks" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the duration of this rhythm in ticks.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">duration of this rhythm in ticks</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.Rhythm.get_last_onset_tick">
<code class="descname">get_last_onset_tick</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.Rhythm.get_last_onset_tick" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the position of the last onset of this rhythm in ticks or -1 if this rhythm is empty.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">position of last onset in ticks or -1 if this rhythm is empty</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.Rhythm.get_measure_duration">
<code class="descname">get_measure_duration</code><span class="sig-paren">(</span><em>unit=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.Rhythm.get_measure_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the duration of one musical measure, based on the time signature.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-data docutils literal"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal"><span class="pre">Unit</span></code>, <code class="xref py py-class docutils literal"><span class="pre">Fraction</span></code>, <code class="xref py py-class docutils literal"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal"><span class="pre">float</span></code>, <code class="docutils literal"><span class="pre">None</span></code>]) &#8211; musical unit in which to return the measure duration or None to get the measure duration in ticks</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-data docutils literal"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal"><span class="pre">float</span></code>]</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the duration of one measure in the given unit or in ticks if no unit is given</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>TimeSignatureNotSet</strong> &#8211; if no time signature has been set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.Rhythm.get_onset_count">
<code class="descname">get_onset_count</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.Rhythm.get_onset_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of onsets in this rhythm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">number of onsets in this rhythm</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.Rhythm.get_resolution">
<code class="descname">get_resolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.Rhythm.get_resolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the tick resolution of this rhythm in pulses-per-quarter-note.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">tick resolution of this rhythm in PPQN</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.Rhythm.get_time_signature">
<code class="descname">get_time_signature</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.Rhythm.get_time_signature" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the time signature of this rhythm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-data docutils literal"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal"><span class="pre">TimeSignature</span></code>]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the time signature of this rhythm as a TimeSignature object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.Rhythm.resolution">
<code class="descname">resolution</code><a class="headerlink" href="#beatsearch.rhythm.Rhythm.resolution" title="Permalink to this definition">¶</a></dt>
<dd><p>See Rhythm.set_resolution and Rhythm.get_resolution</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.Rhythm.set_bpm">
<code class="descname">set_bpm</code><span class="sig-paren">(</span><em>bpm</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.Rhythm.set_bpm" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets this rhythm&#8217;s tempo in beats per minute.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bpm</strong> (<code class="xref py py-data docutils literal"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal"><span class="pre">int</span></code>]) &#8211; new tempo in beats per minute</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">None</span></code></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.Rhythm.set_duration">
<code class="descname">set_duration</code><span class="sig-paren">(</span><em>duration</em>, <em>unit=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.Rhythm.set_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the duration of this rhythm in the given time unit (in ticks if not unit given)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>duration</strong> (<code class="xref py py-data docutils literal"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal"><span class="pre">float</span></code>]) &#8211; new duration in the given unit or in ticks if no unit provided</li>
<li><strong>unit</strong> (<code class="xref py py-data docutils literal"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal"><span class="pre">Unit</span></code>, <code class="xref py py-class docutils literal"><span class="pre">Fraction</span></code>, <code class="xref py py-class docutils literal"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal"><span class="pre">float</span></code>, <code class="docutils literal"><span class="pre">None</span></code>]) &#8211; time unit of the given duration or None to set the duration in ticks</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">None</span></code></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.Rhythm.set_duration_in_ticks">
<code class="descname">set_duration_in_ticks</code><span class="sig-paren">(</span><em>requested_duration</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.Rhythm.set_duration_in_ticks" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the duration of the rhythm to the closest duration possible to the requested duration and returns the
actual new duration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>requested_duration</strong> (<code class="xref py py-class docutils literal"><span class="pre">int</span></code>) &#8211; requested new duration</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">actual new duration</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.Rhythm.set_resolution">
<code class="descname">set_resolution</code><span class="sig-paren">(</span><em>resolution</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.Rhythm.set_resolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets this rhythm&#8217;s tick resolution and rescales the onsets to the new resolution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resolution</strong> (<code class="xref py py-class docutils literal"><span class="pre">int</span></code>) &#8211; new tick resolution in PPQN</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.Rhythm.set_time_signature">
<code class="descname">set_time_signature</code><span class="sig-paren">(</span><em>time_signature</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.Rhythm.set_time_signature" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the time signature of this rhythm. None to remove the time signature.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>time_signature</strong> (<code class="xref py py-data docutils literal"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal"><span class="pre">TimeSignature</span></code>, <code class="xref py py-class docutils literal"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal"><span class="pre">int</span></code>], <code class="xref py py-class docutils literal"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal"><span class="pre">int</span></code>], <code class="docutils literal"><span class="pre">None</span></code>]) &#8211; new time signature either as an iterable (numerator, denominator) or as a TimeSignature
or None to remove the time signature</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">None</span></code></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.Rhythm.time_signature">
<code class="descname">time_signature</code><a class="headerlink" href="#beatsearch.rhythm.Rhythm.time_signature" title="Permalink to this definition">¶</a></dt>
<dd><p>See Rhythm.set_time_signature and Rhythm.get_time_signature</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-data docutils literal"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal"><span class="pre">TimeSignature</span></code>]</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="monophonicrhythm">
<h3>MonophonicRhythm<a class="headerlink" href="#monophonicrhythm" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="beatsearch.rhythm.MonophonicRhythm">
<em class="property">class </em><code class="descclassname">beatsearch.rhythm.</code><code class="descname">MonophonicRhythm</code><a class="headerlink" href="#beatsearch.rhythm.MonophonicRhythm" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#beatsearch.rhythm.Rhythm" title="beatsearch.rhythm.Rhythm"><code class="xref py py-class docutils literal"><span class="pre">beatsearch.rhythm.Rhythm</span></code></a></p>
<p>Monophonic rhythm interface</p>
<p>Interface for monophonic rhythms.</p>
<dl class="method">
<dt id="beatsearch.rhythm.MonophonicRhythm.get_onsets">
<code class="descname">get_onsets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MonophonicRhythm.get_onsets" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the onsets within this rhythm as a tuple of onsets, where each onset is an instance of Onset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal"><span class="pre">Onset</span></code>, ...]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the onsets within this rhythm as a tuple of Onset objects</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.MonophonicRhythm.onsets">
<code class="descname">onsets</code><a class="headerlink" href="#beatsearch.rhythm.MonophonicRhythm.onsets" title="Permalink to this definition">¶</a></dt>
<dd><p>See MonophonicRhythm.get_onsets</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal"><span class="pre">Onset</span></code>, ...]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.MonophonicRhythm.set_onsets">
<code class="descname">set_onsets</code><span class="sig-paren">(</span><em>onsets</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MonophonicRhythm.set_onsets" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the onsets of this rhythm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>onsets</strong> (<code class="xref py py-data docutils literal"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal"><span class="pre">Iterable</span></code>[<code class="xref py py-class docutils literal"><span class="pre">Onset</span></code>], <code class="xref py py-class docutils literal"><span class="pre">Iterable</span></code>[<code class="xref py py-class docutils literal"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal"><span class="pre">int</span></code>]]]) &#8211; onsets as an iterable of (absolute tick, velocity) tuples or as Onset objects</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="polyphonicrhythm">
<h3>PolyphonicRhythm<a class="headerlink" href="#polyphonicrhythm" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="beatsearch.rhythm.PolyphonicRhythm">
<em class="property">class </em><code class="descclassname">beatsearch.rhythm.</code><code class="descname">PolyphonicRhythm</code><a class="headerlink" href="#beatsearch.rhythm.PolyphonicRhythm" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#beatsearch.rhythm.Rhythm" title="beatsearch.rhythm.Rhythm"><code class="xref py py-class docutils literal"><span class="pre">beatsearch.rhythm.Rhythm</span></code></a></p>
<dl class="exception">
<dt id="beatsearch.rhythm.PolyphonicRhythm.EquallyNamedTracksError">
<em class="property">exception </em><code class="descname">EquallyNamedTracksError</code><a class="headerlink" href="#beatsearch.rhythm.PolyphonicRhythm.EquallyNamedTracksError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">beatsearch.rhythm.TrackNameError</span></code></p>
<p>Thrown by set_tracks when given multiple tracks with same name</p>
</dd></dl>

<dl class="exception">
<dt id="beatsearch.rhythm.PolyphonicRhythm.IllegalTrackName">
<em class="property">exception </em><code class="descname">IllegalTrackName</code><a class="headerlink" href="#beatsearch.rhythm.PolyphonicRhythm.IllegalTrackName" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">beatsearch.rhythm.TrackNameError</span></code></p>
<p>Thrown by set_tracks if __validate_track_name__ returns False</p>
</dd></dl>

<dl class="exception">
<dt id="beatsearch.rhythm.PolyphonicRhythm.TrackNameError">
<em class="property">exception </em><code class="descname">TrackNameError</code><a class="headerlink" href="#beatsearch.rhythm.PolyphonicRhythm.TrackNameError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">Exception</span></code></p>
<p>Thrown if there&#8217;s something wrong with a track name</p>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.PolyphonicRhythm.clear_tracks">
<code class="descname">clear_tracks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.PolyphonicRhythm.clear_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears all tracks.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.PolyphonicRhythm.get_track_by_index">
<code class="descname">get_track_by_index</code><span class="sig-paren">(</span><em>track_index</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.PolyphonicRhythm.get_track_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the track with the given index or None if invalid index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>track_index</strong> (<code class="xref py py-class docutils literal"><span class="pre">int</span></code>) &#8211; track index</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Track object or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.PolyphonicRhythm.get_track_by_name">
<code class="descname">get_track_by_name</code><span class="sig-paren">(</span><em>track_name</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.PolyphonicRhythm.get_track_by_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the track with the given name or None if this rhythm has no track with the given name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>track_name</strong> (<code class="xref py py-class docutils literal"><span class="pre">str</span></code>) &#8211; track name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Track object or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.PolyphonicRhythm.get_track_count">
<code class="descname">get_track_count</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.PolyphonicRhythm.get_track_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of tracks within this rhythm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">number of tracks</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.PolyphonicRhythm.get_track_iterator">
<code class="descname">get_track_iterator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.PolyphonicRhythm.get_track_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterator over the tracks of this polyphonic rhythm. Each iteration yields a
PolyphonicRhythmImpl.Track object. The order in which the tracks of this rhythm are yielded is
always the same for each iterator returned by this method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">Iterator</span></code>[<code class="xref py py-class docutils literal"><span class="pre">Track</span></code>]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">iterator over this rhythm&#8217;s tracks yielding PolyphonicRhythmImpl.Track objects</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.PolyphonicRhythm.get_track_names">
<code class="descname">get_track_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.PolyphonicRhythm.get_track_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple containing the names of the tracks in this rhythm. The order in which the names are returned is
the same as the order in which the tracks are yielded by the track iterator returned by
<a class="reference internal" href="#beatsearch.rhythm.PolyphonicRhythm.get_track_iterator" title="beatsearch.rhythm.PolyphonicRhythm.get_track_iterator"><code class="xref py py-meth docutils literal"><span class="pre">beatsearch.rhythm.PolyphonicRhythm.get_track_iterator()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal"><span class="pre">str</span></code>, ...]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">tuple containing the track names</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.PolyphonicRhythm.set_tracks">
<code class="descname">set_tracks</code><span class="sig-paren">(</span><em>tracks</em>, <em>resolution</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.PolyphonicRhythm.set_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the tracks and updates the resolution of this rhythm. The given tracks will automatically be parented to
this polyphonic rhythm. This method also resets the duration of the rhythm to the position of the last onset
in the given tracks.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tracks</strong> (<code class="xref py py-class docutils literal"><span class="pre">Iterable</span></code>[<code class="xref py py-class docutils literal"><span class="pre">Track</span></code>]) &#8211; iterator yielding PolyphonicRhythmImpl.Track objects</li>
<li><strong>resolution</strong> (<code class="xref py py-class docutils literal"><span class="pre">int</span></code>) &#8211; resolution of the onsets in the given tracks</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">None</span></code></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="feature-extraction">
<h2>Feature Extraction<a class="headerlink" href="#feature-extraction" title="Permalink to this headline">¶</a></h2>
<div class="section" id="monophonic-feature-extractors">
<h3>Monophonic Feature Extractors<a class="headerlink" href="#monophonic-feature-extractors" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="beatsearch.feature_extraction.BinaryOnsetVector">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">BinaryOnsetVector</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.BinaryOnsetVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the binary representation of the note onsets of the given rhythm where each step where a note onset
happens is denoted with a 1; otherwise with a 0. The given resolution is the resolution in PPQ (pulses per
quarter note) of the binary vector.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is an independent feature extractor.</p>
</div>
</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.NoteVector">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">NoteVector</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>tied_notes=True</em>, <em>cyclic=True</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.NoteVector" title="Permalink to this definition">¶</a></dt>
<dd><p>This feature extractor predicts the durations of the onsets in the given rhythm. It computes the so-called note
vector, which is a sequence containing musical events. Musical events can be of three types:</p>
<blockquote>
<div><ul class="simple">
<li>NOTE          a sounding note</li>
<li>TIED_NOTE     a non-sounding note</li>
<li>REST          a rest</li>
</ul>
</div></blockquote>
<p>Events are expressed as tuples containing three elements:</p>
<blockquote>
<div><ul class="simple">
<li>e_type:    the type of the event (NOTE, TIED_NOTE or REST)</li>
<li>e_dur:     the duration of the event</li>
<li>e_pos:     the position of the event</li>
</ul>
</div></blockquote>
<p>To iterate over the events in a note vector and print some information about the events, one could do:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">e_type_names</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">NoteVector</span><span class="o">.</span><span class="n">NOTE</span><span class="p">:</span> <span class="s2">&quot;note&quot;</span><span class="p">,</span>
    <span class="n">NoteVector</span><span class="o">.</span><span class="n">TIED_NOTE</span><span class="p">:</span> <span class="s2">&quot;tied note&quot;</span><span class="p">,</span>
    <span class="n">NoteVector</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span> <span class="s2">&quot;rest</span>
<span class="p">}</span>

<span class="k">for</span> <span class="n">e_type</span><span class="p">,</span> <span class="n">e_dur</span><span class="p">,</span> <span class="n">e_pos</span> <span class="ow">in</span> <span class="n">note_vector</span><span class="p">:</span>
    <span class="n">e_pos_end</span> <span class="o">=</span> <span class="n">e_pos</span> <span class="o">+</span> <span class="n">e_dur</span>
    <span class="n">e_name</span> <span class="o">=</span> <span class="n">e_type_names</span><span class="p">[</span><span class="n">e_type</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There&#39;s a </span><span class="si">%s</span><span class="s2"> from step </span><span class="si">%i</span><span class="s2"> to step </span><span class="si">%i</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">e_name</span><span class="p">,</span> <span class="n">e_pos</span><span class="p">,</span> <span class="n">e_pos_end</span><span class="p">))</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is an independent feature extractor.</p>
</div>
</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.BinarySchillingerChain">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">BinarySchillingerChain</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>values=(1</em>, <em>0)</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.BinarySchillingerChain" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Schillinger notation of this rhythm where each onset is a change of a &#8220;binary note&#8221;.</p>
<p>For example, given the Rumba Clave rhythm and with values (0, 1):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">--</span><span class="n">X</span><span class="o">---</span><span class="n">X</span><span class="o">--</span><span class="n">X</span><span class="o">-</span><span class="n">X</span><span class="o">---</span>
<span class="mi">0001111000110000</span>
</pre></div>
</div>
<p>However, when given the values (1, 0), the schillinger chain will be the opposite:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">--</span><span class="n">X</span><span class="o">---</span><span class="n">X</span><span class="o">--</span><span class="n">X</span><span class="o">-</span><span class="n">X</span><span class="o">---</span>
<span class="mi">1110000111001111</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="beatsearch.feature_extraction.BinarySchillingerChain.values">
<code class="descname">values</code><a class="headerlink" href="#beatsearch.feature_extraction.BinarySchillingerChain.values" title="Permalink to this definition">¶</a></dt>
<dd><p>The two values of the schillinger chain returned by process</p>
<p>Binary vector to be used in the schillinger chain returned by process(). E.g. when set to (&#8216;a&#8217;, &#8216;b&#8217;), the
schillinger chain returned by process() will consist of &#8216;a&#8217; and &#8216;b&#8217;.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.ChronotonicChain">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">ChronotonicChain</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.ChronotonicChain" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the chronotonic chain representation of the given rhythm.</p>
<dl class="docutils">
<dt>For example, given the Rumba Clave rhythm:</dt>
<dd>X&#8211;X&#8212;X&#8211;X-X&#8212;
3334444333224444</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.OnsetDensity">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">OnsetDensity</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.OnsetDensity" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the onset density of the given rhythm. The onset density is the number of onsets over the number of
positions in the binary onset vector of the given rhythm.</p>
</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.OnsetPositionVector">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">OnsetPositionVector</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>quantize=True</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.OnsetPositionVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the absolute onset times of the notes in the given rhythm.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is an independent feature extractor.</p>
</div>
</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.MonophonicOnsetLikelihoodVector">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">MonophonicOnsetLikelihoodVector</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>priors='cyclic'</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.MonophonicOnsetLikelihoodVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the likelihood of a step being an onset for every step in the given monophonic rhythm. The onset
likelihoods are ranged from 0 to 1. An onset likelihood of 0 means that there&#8217;s no evidence &#8211; according to the
model used by this extractor &#8211; that the corresponding step will contain an onset. An onset likelihood of 1 means
that it is very likely that the corresponding step will contain an onset.</p>
<p>The likelihoods are based on predictions made on different levels. Each level has a window size corresponding to a
musical unit. For each level, the prediction is that the current group will equal the last group. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>Rhythm            x o x o x o x o x o x x x o o o

Predictions
            1/16 |?|x|o|x|o|x|o|x|o|x|o|x:x|o|o|o|
            1/8  |? ?|x o|x o|x o|x o|x o|x x|x o|
            1/4  |? ? ? ?|x o x o|x o x o|x x x o|
            1/2  |? ? ? ? ? ? ? ?|x o x o x o x o|
            1/1  |? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?|
</pre></div>
</div>
<p>The groups containing question marks are groups that have no antecedents. The predictions of these uncertain groups
are handled according to the &#8220;priors&#8221; property.</p>
<blockquote>
<div><ul class="simple">
<li>cyclic:       it is assumed that the rhythm is a loop, leaving no uncertain groups</li>
<li>optimistic:   predictions are set to the ground truth (predictions of uncertain groups are always correct)</li>
<li><dl class="first docutils">
<dt>pessimistic:  predictions are set to the negative ground truth (predictions of uncertain groups are always</dt>
<dd>incorrect)</dd>
</dl>
</li>
</ul>
</div></blockquote>
<dl class="attribute">
<dt id="beatsearch.feature_extraction.MonophonicOnsetLikelihoodVector.priors">
<code class="descname">priors</code><a class="headerlink" href="#beatsearch.feature_extraction.MonophonicOnsetLikelihoodVector.priors" title="Permalink to this definition">¶</a></dt>
<dd><p>The way that uncertain groups are handled. One of [&#8216;cyclic&#8217;, &#8216;optimistic&#8217;, &#8216;pessimistic&#8217;]. See
<a class="reference internal" href="#beatsearch.feature_extraction.MonophonicOnsetLikelihoodVector" title="beatsearch.feature_extraction.MonophonicOnsetLikelihoodVector"><code class="xref py py-class docutils literal"><span class="pre">beatsearch.feature_extraction.MonophonicOnsetLikelihoodVector</span></code></a> for more info.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-data docutils literal"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal"><span class="pre">int</span></code>]]</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.MonophonicVariabilityVector">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">MonophonicVariabilityVector</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>priors='cyclic'</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.MonophonicVariabilityVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the variability of each step of the given monophonic rhythm. First, the onset likelihood vector is computed
with <a class="reference internal" href="#beatsearch.feature_extraction.MonophonicOnsetLikelihoodVector" title="beatsearch.feature_extraction.MonophonicOnsetLikelihoodVector"><code class="xref py py-class docutils literal"><span class="pre">beatsearch.feature_extraction.MonophonicOnsetLikelihoodVector</span></code></a>. The variability of step N is the
absolute difference of the probability of N being an onset and whether there was actually an onset on step N.</p>
<dl class="attribute">
<dt id="beatsearch.feature_extraction.MonophonicVariabilityVector.priors">
<code class="descname">priors</code><a class="headerlink" href="#beatsearch.feature_extraction.MonophonicVariabilityVector.priors" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#beatsearch.feature_extraction.MonophonicOnsetLikelihoodVector.priors" title="beatsearch.feature_extraction.MonophonicOnsetLikelihoodVector.priors"><code class="xref py py-meth docutils literal"><span class="pre">beatsearch.feature_extraction.MonophonicOnsetLikelihoodVector.priors()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.MonophonicSyncopationVector">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">MonophonicSyncopationVector</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>salience_profile_type='equal_upbeats'</em>, <em>cyclic=True</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.MonophonicSyncopationVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the syncopations in a monophonic rhythm. The syncopations are computed with the method proposed by H.C.
Longuet-Higgins and C. S. Lee in their work titled: &#8220;The Rhythmic Interpretation of Monophonic Music&#8221;.</p>
<dl class="docutils">
<dt>The syncopations are returned as a sequence of tuples containing three elements:</dt>
<dd><ul class="first last simple">
<li>the syncopation strength</li>
<li>the syncopated note position</li>
<li>the position of the rest against which the note is syncopated</li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="beatsearch.feature_extraction.MonophonicSyncopationVector.cyclic">
<code class="descname">cyclic</code><a class="headerlink" href="#beatsearch.feature_extraction.MonophonicSyncopationVector.cyclic" title="Permalink to this definition">¶</a></dt>
<dd><p>When set to True, the extractor assumes that the processed rhythm is a loop, which allows it to find
syncopations of notes that are syncopated against events &#8216;earlier&#8217; in the rhythm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">bool</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.feature_extraction.MonophonicSyncopationVector.salience_profile_type">
<code class="descname">salience_profile_type</code><a class="headerlink" href="#beatsearch.feature_extraction.MonophonicSyncopationVector.salience_profile_type" title="Permalink to this definition">¶</a></dt>
<dd><p>The type of salience profile to be used for syncopation detection. This must be one of: [&#8216;hierarchical&#8217;,
&#8216;equal_upbeats&#8217;, &#8216;equal_beats&#8217;]. See <code class="xref py py-meth docutils literal"><span class="pre">beatsearch.rhythm.TimeSignature.get_salience_profile()</span></code> for more info.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.SyncopatedOnsetRatio">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">SyncopatedOnsetRatio</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>ret_fraction=False</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.SyncopatedOnsetRatio" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the number of syncopated onsets over the total number of onsets. The syncopations are computed with
<a class="reference internal" href="#beatsearch.feature_extraction.MonophonicSyncopationVector" title="beatsearch.feature_extraction.MonophonicSyncopationVector"><code class="xref py py-class docutils literal"><span class="pre">beatsearch.feature_extraction.MonophonicSyncopationVector</span></code></a>.</p>
<dl class="attribute">
<dt id="beatsearch.feature_extraction.SyncopatedOnsetRatio.ret_fraction">
<code class="descname">ret_fraction</code><a class="headerlink" href="#beatsearch.feature_extraction.SyncopatedOnsetRatio.ret_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>When this is set to true, process() will return a (numerator, denominator) instead of a float</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">bool</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.MeanSyncopationStrength">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">MeanSyncopationStrength</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.MeanSyncopationStrength" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the average syncopation strength per step. The step size depends on the unit (see set_unit). The
syncopations are computed with MonophonicSyncopationVector.</p>
</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.MonophonicMetricalTensionVector">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">MonophonicMetricalTensionVector</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>salience_profile_type='equal_upbeats'</em>, <em>normalize=False</em>, <em>cyclic=True</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.MonophonicMetricalTensionVector" title="Permalink to this definition">¶</a></dt>
<dd><p>This feature extractor computes the monophonic metrical tension of a rhythm. If E(i) is the i-th event in the note
vector of the given rhythm (see <a class="reference internal" href="#beatsearch.feature_extraction.NoteVector" title="beatsearch.feature_extraction.NoteVector"><code class="xref py py-class docutils literal"><span class="pre">beatsearch.feature_extraction.NoteVector</span></code></a>, it is said that the tension
during event E(i) equals the metrical weight of the starting position of E(i) for rests and sounding notes. If E(i)
is a tied note (non-sounding note), then the tension of E(i) equals the tension of E(i-1).</p>
<dl class="attribute">
<dt id="beatsearch.feature_extraction.MonophonicMetricalTensionVector.normalize">
<code class="descname">normalize</code><a class="headerlink" href="#beatsearch.feature_extraction.MonophonicMetricalTensionVector.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>When set to True, the tension will have a range of [0, 1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">bool</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.MonophonicMetricalTensionMagnitude">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">MonophonicMetricalTensionMagnitude</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>salience_profile_type='equal_upbeats'</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.MonophonicMetricalTensionMagnitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the magnitude of the monophonic metrical tension vector (the euclidean distance to the zero vector)</p>
<dl class="attribute">
<dt id="beatsearch.feature_extraction.MonophonicMetricalTensionMagnitude.normalize">
<code class="descname">normalize</code><a class="headerlink" href="#beatsearch.feature_extraction.MonophonicMetricalTensionMagnitude.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>When set to True, the tension magnitude will range from 0 to 1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">bool</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.IOIVector">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">IOIVector</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>mode='post_note'</em>, <em>quantize=True</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.IOIVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the time difference between the notes in the given rhythm (Inter Onset Intervals). The elements of the
vector will depend on this IOIVector extractor&#8217;s mode property:</p>
<p><strong>PRE_NOTE</strong> Time difference between the current note and the previous note. The first note will return the time
difference with the start of the rhythm. For example, given the Rumba Clave rhythm:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">--</span><span class="n">X</span><span class="o">---</span><span class="n">X</span><span class="o">--</span><span class="n">X</span><span class="o">-</span><span class="n">X</span><span class="o">---</span>
<span class="mi">0</span>  <span class="mi">3</span>   <span class="mi">4</span>  <span class="mi">3</span> <span class="mi">2</span>
</pre></div>
</div>
<p><strong>POST_NOTE</strong> Time difference between the current note and the next note. The last note will return the time
difference with the end (duration) of the rhythm. For example, given the Rumba Clave rhythm:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">--</span><span class="n">X</span><span class="o">---</span><span class="n">X</span><span class="o">--</span><span class="n">X</span><span class="o">-</span><span class="n">X</span><span class="o">---</span>
<span class="mi">3</span>  <span class="mi">4</span>   <span class="mi">3</span>  <span class="mi">2</span> <span class="mi">4</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is an independent feature extractor.</p>
</div>
</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.IOIDifferenceVector">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">IOIDifferenceVector</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>quantize=True</em>, <em>cyclic=True</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.IOIDifferenceVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the interval difference vector (aka difference of rhythm vector) of the given rhythm. Per note, this is
the difference between the current onset interval and the next onset interval. So, if N is the number of onsets,
the returned vector will have a length of N - 1. This is different with cyclic rhythms, where the last onset&#8217;s
interval is compared with the first onset&#8217;s interval. In this case, the length will be N.
The inter-onset interval vector is computed in POST_NOTE mode.</p>
<p>For example, given the POST_NOTE inter-onset interval vector for the Rumba clave:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<p>The interval difference vector would be:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">4</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">2</span><span class="p">]</span>        <span class="c1"># cyclic = False</span>
<span class="p">[</span><span class="mi">4</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="p">]</span>   <span class="c1"># cyclic = True</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="beatsearch.feature_extraction.IOIDifferenceVector.cyclic">
<code class="descname">cyclic</code><a class="headerlink" href="#beatsearch.feature_extraction.IOIDifferenceVector.cyclic" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to True for cyclic behaviour. See <a class="reference internal" href="#beatsearch.feature_extraction.IOIDifferenceVector" title="beatsearch.feature_extraction.IOIDifferenceVector"><code class="xref py py-class docutils literal"><span class="pre">beatsearch.feature_extraction.IOIDifferenceVector</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.IOIHistogram">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">IOIHistogram</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.IOIHistogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the number of occurrences of the inter-onset intervals of the notes of the given rhythm in ascending
order. The inter onset intervals are computed in POST_NOTE mode.</p>
<p>For example, given the Rumba Clave rhythm, with inter-onset vector [3, 4, 3, 2, 4]:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>  <span class="c1"># occurrences</span>
    <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>   <span class="c1"># bins (interval durations)</span>
<span class="p">]</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="polyphonic-feature-extractors">
<h3>Polyphonic Feature Extractors<a class="headerlink" href="#polyphonic-feature-extractors" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="beatsearch.feature_extraction.MultiTrackMonoFeature">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">MultiTrackMonoFeature</code><span class="sig-paren">(</span><em>mono_extr_cls</em>, <em>*args</em>, <em>multi_track_mode='per_track'</em>, <em>aux_to=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.MultiTrackMonoFeature" title="Permalink to this definition">¶</a></dt>
<dd><p>This class can be used to &#8220;upgrade&#8221; a monophonic rhythm feature extractor to a polyphonic one. Objects of this class
have an underlying monophonic rhythm feature extractor. The behaviour of calling process() depends on the current
<code class="xref py py-meth docutils literal"><span class="pre">beatsearch.feature_extraction.MultiTrackMonoFeature.multi_track_mode()</span></code> of the MultiTrackMonoFeature extractor:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt>PER_TRACK:</dt>
<dd>The monophonic feature is computed once for each track in the given polyphonic rhythm and returned in the
same order as a tuple.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>PER_TRACK_COMBINATION:</dt>
<dd>For each track combination (e.g., given a polyphonic rhythm with kick, snare and hi-hat, the combinations
are [kick], [snare], [hi-hat], [kick, snare], [kick, hi-hat], [snare, hi-hat] and [kick, snare, hi-hat]) a
new, merged, monophonic rhythm is created. The monophonic feature is then computed on each monophonic
rhythm. The monophonic features are then returned as a tuple of (track_indices, mono_feature) tuples where
track_indices is a tuple containing the indices of the tracks used to create the merged monophonic rhythm
that resulted in the corresponding monophonic feature.</dd>
</dl>
</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.PolyphonicMetricalTensionVector">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">PolyphonicMetricalTensionVector</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>salience_profile_type='equal_upbeats'</em>, <em>normalize=False</em>, <em>cyclic=True</em>, <em>instrument_weights=None</em>, <em>include_combination_tracks=False</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.PolyphonicMetricalTensionVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the weighted monophonic metrical tension vector for each track (or each track combination if
include_combination_tracks is set to True) and returns the sum. The monophonic metrical tension is computed with
<a class="reference internal" href="#beatsearch.feature_extraction.MonophonicMetricalTensionVector" title="beatsearch.feature_extraction.MonophonicMetricalTensionVector"><code class="xref py py-class docutils literal"><span class="pre">beatsearch.feature_extraction.MonophonicMetricalTensionVector</span></code></a>. The weights of the tracks are specified
with the <code class="xref py py-meth docutils literal"><span class="pre">beatsearch.feature_extraction.PolyphonicMetricalTensionVector.set_instrument_weights()</span></code>. The weights
for the track combinations are specified as the factors of the individual instrument weights for the instruments
within that instrument group (e.g., w(kick) = 0.2 and w(snare) = 0.5 will result in 0.1 for the weight of the
combination kick-snare).</p>
<dl class="attribute">
<dt id="beatsearch.feature_extraction.PolyphonicMetricalTensionVector.normalize">
<code class="descname">normalize</code><a class="headerlink" href="#beatsearch.feature_extraction.PolyphonicMetricalTensionVector.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>When set to True, the tension will have a range of [0, 1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">bool</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.PolyphonicMetricalTensionMagnitude">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">PolyphonicMetricalTensionMagnitude</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>salience_profile_type='equal_upbeats'</em>, <em>normalize=True</em>, <em>cyclic=True</em>, <em>instrument_weights=None</em>, <em>include_combination_tracks=False</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.PolyphonicMetricalTensionMagnitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the magnitude of the polyphonic metrical tension vector (euclidean distance to the zero vector)</p>
<dl class="attribute">
<dt id="beatsearch.feature_extraction.PolyphonicMetricalTensionMagnitude.normalize">
<code class="descname">normalize</code><a class="headerlink" href="#beatsearch.feature_extraction.PolyphonicMetricalTensionMagnitude.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>When set to True, the tension magnitude will range from 0 to 1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">bool</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.PolyphonicSyncopationVector">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">PolyphonicSyncopationVector</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>instr_weighting_function=&lt;function PolyphonicSyncopationVector.&lt;lambda&gt;&gt;</em>, <em>salience_profile_type='equal_upbeats'</em>, <em>interrupted_syncopations=True</em>, <em>nested_syncopations='keep_heaviest'</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.PolyphonicSyncopationVector" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the polyphonic syncopations and their syncopation strengths. This is an adaption to the method proposed by
M. Witek et al in their worked titled &#8220;Syncopation, Body-Movement and Pleasure in Groove Music&#8221;. This method is
implemented in terms of the monophonic syncopation feature extractor. The monophonic syncopations are found per
instrument. They are upgraded to polyphonic syncopations by adding an instrumentation weight. The syncopations
are then filtered based on the properties &#8216;<cite>only_uninterrupted_syncopations</cite>&#8216; and &#8216;<cite>nested_syncopations</cite>&#8216;.</p>
<dl class="attribute">
<dt id="beatsearch.feature_extraction.PolyphonicSyncopationVector.instrumentation_weight_function">
<code class="descname">instrumentation_weight_function</code><a class="headerlink" href="#beatsearch.feature_extraction.PolyphonicSyncopationVector.instrumentation_weight_function" title="Permalink to this definition">¶</a></dt>
<dd><p>The instrumentation weight function is used to compute the instrumentation weights of the syncopations. This
function receives two positional parameters:</p>
<blockquote>
<div><ul>
<li><p class="first"><cite>syncopated_instrument: str</cite></p>
<p>The name of the instrument that plays the syncopated note as a string.</p>
</li>
<li><p class="first"><cite>closing_instruments: Set[str]</cite></p>
<p>The names of the instruments which syncopated_instrument is syncopated against (empty set if the
syncopation is against a rest).</p>
</li>
</ul>
</div></blockquote>
<p>The instrumentation weight function must return the weight as an integer. When this property is set to None, the
instrumentation weight will equal zero for all syncopations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-data docutils literal"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal"><span class="pre">Set</span></code>[<code class="xref py py-class docutils literal"><span class="pre">str</span></code>]], <code class="xref py py-class docutils literal"><span class="pre">int</span></code>]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.feature_extraction.PolyphonicSyncopationVector.nested_syncopations">
<code class="descname">nested_syncopations</code><a class="headerlink" href="#beatsearch.feature_extraction.PolyphonicSyncopationVector.nested_syncopations" title="Permalink to this definition">¶</a></dt>
<dd><p>This property determines the way in which nested syncopations are handled. Two syncopations are said to be
nested if one syncopation starts during the other. Note that if only_uninterrupted_syncopations is set to True,
there won&#8217;t be any nested syncopations detected, effectively ignoring this property.</p>
<p>Nested syncopations can be handled in four different ways:</p>
<blockquote>
<div><ul>
<li><p class="first"><cite>keep_heaviest</cite></p>
<p>Only the syncopation with the highest syncopation strength remains.</p>
</li>
<li><p class="first"><cite>keep_first</cite></p>
<p>Only the first (not nested) syncopation remains.</p>
</li>
<li><p class="first"><cite>keep_last</cite></p>
<p>Only the last (most nested) syncopation remains.</p>
</li>
<li><p class="first"><cite>keep_all</cite></p>
<p>All syncopations remain.</p>
</li>
</ul>
</div></blockquote>
<p>Suppose you have a rhythm with three instruments, instrument A, B and C. Then suppose these three nested
syncopations:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Instrument</span> <span class="n">A</span> <span class="p">(</span><span class="n">strength</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span> <span class="o">....</span><span class="p">:</span><span class="o">...&lt;|&gt;...</span>
<span class="n">Instrument</span> <span class="n">B</span> <span class="p">(</span><span class="n">strength</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span> <span class="o">&lt;---</span><span class="p">:</span><span class="o">----|&gt;...</span>
<span class="n">Instrument</span> <span class="n">C</span> <span class="p">(</span><span class="n">strength</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span> <span class="o">....</span><span class="p">:</span><span class="o">&lt;---|&gt;...</span>

<span class="n">Legend</span><span class="p">:</span>
    <span class="o">&lt;</span> <span class="o">=</span> <span class="n">syncopated</span> <span class="n">note</span>        <span class="o">-</span> <span class="o">=</span> <span class="n">pending</span> <span class="n">syncopation</span>     <span class="o">&gt;</span> <span class="o">=</span> <span class="n">closing</span> <span class="n">note</span> <span class="p">(</span><span class="n">end</span> <span class="n">of</span> <span class="n">syncopation</span><span class="p">)</span>
    <span class="o">|</span> <span class="o">=</span> <span class="n">crotchet</span> <span class="n">pulse</span>         <span class="p">:</span> <span class="o">=</span> <span class="n">quaver</span> <span class="n">pulse</span>

<span class="n">From</span> <span class="n">these</span> <span class="n">three</span> <span class="n">syncopations</span><span class="p">:</span>

    <span class="o">-</span> <span class="n">keep_heaviest</span><span class="p">:</span>  <span class="n">only</span> <span class="n">syncopation</span> <span class="n">C</span> <span class="n">remains</span>
    <span class="o">-</span> <span class="n">keep_first</span><span class="p">:</span>     <span class="n">only</span> <span class="n">syncopation</span> <span class="n">B</span> <span class="n">remains</span>
    <span class="o">-</span> <span class="n">keep_last</span><span class="p">:</span>      <span class="n">only</span> <span class="n">syncopation</span> <span class="n">A</span> <span class="n">remains</span>
    <span class="o">-</span> <span class="n">keep_all</span><span class="p">:</span>       <span class="n">syncopation</span> <span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="ow">and</span> <span class="n">C</span> <span class="n">remain</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.feature_extraction.PolyphonicSyncopationVector.only_uninterrupted_syncopations">
<code class="descname">only_uninterrupted_syncopations</code><a class="headerlink" href="#beatsearch.feature_extraction.PolyphonicSyncopationVector.only_uninterrupted_syncopations" title="Permalink to this definition">¶</a></dt>
<dd><p>Setting this property to True causes this feature extractor to only find uninterrupted syncopations. A
syncopation is said to be interrupted if an other instrument plays a note during the syncopation. Note that
setting this property to True will make syncopations containing nested syncopations undetectable, effectively
ignoring the nested_syncopations property.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">bool</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.feature_extraction.PolyphonicSyncopationVector.salience_profile_type">
<code class="descname">salience_profile_type</code><a class="headerlink" href="#beatsearch.feature_extraction.PolyphonicSyncopationVector.salience_profile_type" title="Permalink to this definition">¶</a></dt>
<dd><p>The type of salience profile to be used for syncopation detection. This must be one of: [&#8216;hierarchical&#8217;,
&#8216;equal_upbeats&#8217;, &#8216;equal_beats&#8217;]. See <code class="xref py py-meth docutils literal"><span class="pre">beatsearch.rhythm.TimeSignature.get_salience_profile()</span></code> for more info.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beatsearch.feature_extraction.PolyphonicSyncopationVectorWitek">
<em class="property">class </em><code class="descclassname">beatsearch.feature_extraction.</code><code class="descname">PolyphonicSyncopationVectorWitek</code><span class="sig-paren">(</span><em>unit=&lt;Unit.EIGHTH: (Fraction(1</em>, <em>8)</em>, <em>('eighth'</em>, <em>'quaver'))&gt;</em>, <em>salience_profile_type='equal_upbeats'</em>, <em>instrumentation_weight_function=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.PolyphonicSyncopationVectorWitek" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the polyphonic syncopations and their syncopation strengths. This is an implementation of the method
proposed by Maria A.G. Witek et al in their work titled &#8220;Syncopation, Body-Movement and Pleasure in Groove
Music&#8221;.</p>
<p>The definition of syncopation, as proposed in the work of Witek, goes as follows:</p>
<blockquote>
<div>If N is a note that precedes a rest, R, and R has a metric weight greater than or equal to N, then the
pair (N, R) is said to constitute a monophonic syncopation. If N is a note on a certain instrument that
precedes a note on a different instrument, Ndi, and Ndi has a metric weight greater than or equal to N,
then the pair (N, Ndi) is said to constitute a polyphonic syncopation.</div></blockquote>
<p>This definition is used to find the syncopations. Then, the syncopation strengths are computed with this
formula:</p>
<blockquote>
<div>S = Ndi - N + I</div></blockquote>
<p>where S is the degree of syncopation, Ndi is the metrical weight of the note succeeding the syncopated note, N
is the metrical weight of the syncopated note and I is the instrumentation weight. The instrumentation weight
depends on the relation of the instruments involved in the syncopation. This relation depends on two factors:</p>
<blockquote>
<div><ul class="simple">
<li>the number of instruments involved in the syncopation</li>
<li>the type of instruments involved in the syncopation</li>
</ul>
</div></blockquote>
<p>As there is no formula given by Witek for how to compute this value, the computation of this value is up to the
owner of this feature extractor. The function to compute the weight can be set through the
set_instrumentation_weight_function method and should be a callable receiving two arguments:</p>
<blockquote>
<div><ul class="simple">
<li>the names of the tracks (instruments) that play a syncopated note</li>
<li>the names of the tracks (instruments) that the note is syncopated against (empty if syncopated against a
rest)</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt>The syncopations are returned as a sequence of three-element tuples containing:</dt>
<dd><ul class="first last simple">
<li>the degree of syncopation (syncopation strength)</li>
<li>position of the syncopated note(s)</li>
<li>position of the note(s)/rest(s) against which the note(s) are syncopated</li>
</ul>
</dd>
</dl>
<p>The syncopations are returned (position, syncopation strength) tuples.</p>
<p>NOTE: the formula in the Witek&#8217;s work is different: S = N - Ndi + I. I suspect that it is a typo, as examples
in the same work show that the formula, S = Ndi - N + I, is used.</p>
<dl class="staticmethod">
<dt id="beatsearch.feature_extraction.PolyphonicSyncopationVectorWitek.default_instr_weight_function">
<em class="property">static </em><code class="descname">default_instr_weight_function</code><span class="sig-paren">(</span><em>syncopated_instruments</em>, <em>other_instruments</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.feature_extraction.PolyphonicSyncopationVectorWitek.default_instr_weight_function" title="Permalink to this definition">¶</a></dt>
<dd><p>The default instrumentation weight function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="midi">
<h2>Midi<a class="headerlink" href="#midi" title="Permalink to this headline">¶</a></h2>
<div class="section" id="midirhythm">
<h3>MidiRhythm<a class="headerlink" href="#midirhythm" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="beatsearch.rhythm.MidiRhythm">
<em class="property">class </em><code class="descclassname">beatsearch.rhythm.</code><code class="descname">MidiRhythm</code><span class="sig-paren">(</span><em>midi_file=''</em>, <em>midi_pattern=None</em>, <em>midi_mapping=&lt;beatsearch.rhythm.MidiDrumMappingImpl object&gt;</em>, <em>midi_mapping_reducer_cls=None</em>, <em>name=''</em>, <em>preserve_midi_duration=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiRhythm" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">beatsearch.rhythm.RhythmLoop</span></code></p>
<dl class="method">
<dt id="beatsearch.rhythm.MidiRhythm.as_midi_pattern">
<code class="descname">as_midi_pattern</code><span class="sig-paren">(</span><em>note_length=0</em>, <em>midi_channel=9</em>, <em>midi_format=0</em>, <em>midi_keys=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiRhythm.as_midi_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts this rhythm to a MIDI pattern.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>note_length</strong> (<code class="xref py py-class docutils literal"><span class="pre">int</span></code>) &#8211; note duration in ticks</li>
<li><strong>midi_channel</strong> (<code class="xref py py-class docutils literal"><span class="pre">int</span></code>) &#8211; NoteOn/NoteOff events channel (defaults to 9, which is the default for drum sounds)</li>
<li><strong>midi_format</strong> (<code class="xref py py-class docutils literal"><span class="pre">int</span></code>) &#8211; midi format</li>
<li><strong>midi_keys</strong> (<code class="xref py py-data docutils literal"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal"><span class="pre">int</span></code>]]) &#8211; optional, dictionary holding the MIDI keys per track name</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">Pattern</span></code></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">MIDI pattern</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.MidiRhythm.get_midi_drum_mapping">
<code class="descname">get_midi_drum_mapping</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiRhythm.get_midi_drum_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current MIDI drum mapping</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#beatsearch.rhythm.MidiDrumMapping" title="beatsearch.rhythm.MidiDrumMapping"><code class="xref py py-class docutils literal"><span class="pre">MidiDrumMapping</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">MIDI drum mapping object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.MidiRhythm.get_midi_drum_mapping_reducer">
<code class="descname">get_midi_drum_mapping_reducer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiRhythm.get_midi_drum_mapping_reducer" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current MIDI drum mapping reducer class or None if no mapping reducer has been set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-data docutils literal"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal"><span class="pre">Type</span></code>[<a class="reference internal" href="#beatsearch.rhythm.MidiDrumMapping" title="beatsearch.rhythm.MidiDrumMapping"><code class="xref py py-class docutils literal"><span class="pre">MidiDrumMapping</span></code></a>]]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">MIDI mapping reducer or None if no reducer set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.MidiRhythm.load_midi_pattern">
<code class="descname">load_midi_pattern</code><span class="sig-paren">(</span><em>pattern</em>, <em>preserve_midi_duration=False</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiRhythm.load_midi_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a midi pattern and sets this rhythm&#8217;s tracks, time signature, bpm and duration. The given midi pattern
must have a resolution property and can&#8217;t have more than one track containing note events. The midi events map
to rhythm properties like this:</p>
<ul class="simple">
<li><code class="xref py py-class docutils literal"><span class="pre">midi.NoteOnEvent</span></code>, adds an onset to this rhythm</li>
<li><code class="xref py py-class docutils literal"><span class="pre">midi.TimeSignatureEvent</span></code>, set the time signature of this rhythm (required)</li>
<li><code class="xref py py-class docutils literal"><span class="pre">midi.SetTempoEvent</span></code>, sets the bpm of this rhythm</li>
<li><code class="xref py py-class docutils literal"><span class="pre">midi.EndOfTrackEvent</span></code>, sets the duration of this rhythm (only if preserve_midi_duration is true)</li>
</ul>
<p>The <cite>EndOfTrackEvent</cite> is required if the <cite>preserve_midi_duration</cite> is set to <cite>True</cite>. If preserve_midi_duration is
<cite>False</cite>, the duration of this rhythm will be set to the first downbeat after the last note position.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pattern</strong> (<code class="xref py py-class docutils literal"><span class="pre">Pattern</span></code>) &#8211; the midi pattern to load</li>
<li><strong>preserve_midi_duration</strong> (<code class="xref py py-class docutils literal"><span class="pre">bool</span></code>) &#8211; when true, the duration will be set to the position of the midi EndOfTrackEvent,
otherwise it will be set to the first downbeat after the last note position</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">None</span></code></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.MidiRhythm.midi_drum_mapping_reducer">
<code class="descname">midi_drum_mapping_reducer</code><a class="headerlink" href="#beatsearch.rhythm.MidiRhythm.midi_drum_mapping_reducer" title="Permalink to this definition">¶</a></dt>
<dd><p>The MIDI drum mapping reducer class. Setting this property will reset the tracks of this rhythm. Set this
property to None for no MIDI drum mapping reducer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-data docutils literal"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal"><span class="pre">Type</span></code>[<code class="xref py py-class docutils literal"><span class="pre">MidiDrumMappingReducer</span></code>]]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.MidiRhythm.midi_mapping">
<code class="descname">midi_mapping</code><a class="headerlink" href="#beatsearch.rhythm.MidiRhythm.midi_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>The midi mapping.</p>
<p>The MIDI mapping is used when parsing the MIDI data to create the track names. This is a read-only property.</p>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.MidiRhythm.midi_mapping_reducer">
<code class="descname">midi_mapping_reducer</code><a class="headerlink" href="#beatsearch.rhythm.MidiRhythm.midi_mapping_reducer" title="Permalink to this definition">¶</a></dt>
<dd><p>The mapping reducer class.</p>
<p>The MIDI drum mapping reducer class is the class of the mapping reducer used to parse the MIDI data and create
the tracks of this rhythm. This is a read-only property.</p>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.MidiRhythm.set_midi_drum_mapping">
<code class="descname">set_midi_drum_mapping</code><span class="sig-paren">(</span><em>drum_mapping</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiRhythm.set_midi_drum_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the MIDI drum mapping and resets the tracks accordingly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>drum_mapping</strong> (<a class="reference internal" href="#beatsearch.rhythm.MidiDrumMapping" title="beatsearch.rhythm.MidiDrumMapping"><code class="xref py py-class docutils literal"><span class="pre">MidiDrumMapping</span></code></a>) &#8211; midi drum mapping</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="docutils literal"><span class="pre">None</span></code></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.MidiRhythm.set_midi_drum_mapping_reducer">
<code class="descname">set_midi_drum_mapping_reducer</code><span class="sig-paren">(</span><em>mapping_reducer_cls</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiRhythm.set_midi_drum_mapping_reducer" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Sets the MIDI drum mapping reducer and reloads the tracks. If no</dt>
<dd>The rhythm duration will remain unchanged.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mapping_reducer_cls</strong> (<code class="xref py py-data docutils literal"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal"><span class="pre">Type</span></code>[<code class="xref py py-class docutils literal"><span class="pre">MidiDrumMappingReducer</span></code>]]) &#8211; MIDI drum mapping reducer class or None to remove the mapping reducer</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.MidiRhythm.write_midi_out">
<code class="descname">write_midi_out</code><span class="sig-paren">(</span><em>midi_file</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiRhythm.write_midi_out" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes this rhythm loop as a MIDI file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>midi_file</strong> (<code class="xref py py-data docutils literal"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal"><span class="pre">IOBase</span></code>]) &#8211; midi file or path</li>
<li><strong>kwargs</strong> &#8211; arguments passed to as_midi_pattern, see documentation of that method</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="midirhythmcorpus">
<h3>MidiRhythmCorpus<a class="headerlink" href="#midirhythmcorpus" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="beatsearch.rhythm.MidiRhythmCorpus">
<em class="property">class </em><code class="descclassname">beatsearch.rhythm.</code><code class="descname">MidiRhythmCorpus</code><span class="sig-paren">(</span><em>path=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiRhythmCorpus" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="beatsearch.rhythm.MidiRhythmCorpus.export_as_midi_files">
<code class="descname">export_as_midi_files</code><span class="sig-paren">(</span><em>directory</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiRhythmCorpus.export_as_midi_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts all rhythms in this corpus to MIDI patterns and saves them to the given directory</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>directory</strong> (<code class="xref py py-class docutils literal"><span class="pre">str</span></code>) &#8211; directory to save the MIDI files to</li>
<li><strong>kwargs</strong> &#8211; named arguments given to <a class="reference internal" href="#beatsearch.rhythm.MidiRhythm.as_midi_pattern" title="beatsearch.rhythm.MidiRhythm.as_midi_pattern"><code class="xref py py-meth docutils literal"><span class="pre">beatsearch.rhythm.MidiRhythm.as_midi_pattern()</span></code></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.MidiRhythmCorpus.has_loaded">
<code class="descname">has_loaded</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiRhythmCorpus.has_loaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether this corpus has already loaded</p>
<p>Returns whether this rhythm corpus has already been loaded. This will return true after a successful call to
load().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if this corpus has already loaded: False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.MidiRhythmCorpus.id">
<code class="descname">id</code><a class="headerlink" href="#beatsearch.rhythm.MidiRhythmCorpus.id" title="Permalink to this definition">¶</a></dt>
<dd><p>The id of this rhythm corpus</p>
<p>The UUID id of this rhythm corpus. This is a read-only property.</p>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.MidiRhythmCorpus.is_up_to_date">
<code class="descname">is_up_to_date</code><span class="sig-paren">(</span><em>midi_root_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiRhythmCorpus.is_up_to_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether the rhythms in this corpus are fully up to date with the MIDI contents of the given directory</p>
<p>Recursively scans the given directory for MIDI files and checks whether the files are the identical (both
file names and file modification timestamps) to the files that were used to create this corpus.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>midi_root_dir</strong> (<code class="xref py py-class docutils literal"><span class="pre">str</span></code>) &#8211; midi root directory that was used to create this corpus</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if up to date; False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.MidiRhythmCorpus.load_from_cache_file">
<code class="descname">load_from_cache_file</code><span class="sig-paren">(</span><em>cache_fpath</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiRhythmCorpus.load_from_cache_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads this MIDI corpus from a serialized pickle file</p>
<p>Loads a MIDI corpus from a serialized pickle file created with previously created with
<a class="reference internal" href="#beatsearch.rhythm.MidiRhythmCorpus.save_to_cache_file" title="beatsearch.rhythm.MidiRhythmCorpus.save_to_cache_file"><code class="xref py py-meth docutils literal"><span class="pre">beatsearch.rhythm.MidiRhythmCorpus.save_to_cache_file()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cache_fpath</strong> (<code class="xref py py-data docutils literal"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal"><span class="pre">IOBase</span></code>, <code class="xref py py-class docutils literal"><span class="pre">str</span></code>]) &#8211; path to the serialized pickle file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.MidiRhythmCorpus.load_from_directory">
<code class="descname">load_from_directory</code><span class="sig-paren">(</span><em>midi_root_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiRhythmCorpus.load_from_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads this MIDI corpus from a MIDI root directory</p>
<p>Recursively scans the given directory for MIDI files and loads one rhythm per MIDI file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>midi_root_dir</strong> (<code class="xref py py-class docutils literal"><span class="pre">str</span></code>) &#8211; MIDI root directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.MidiRhythmCorpus.midi_mapping_reducer">
<code class="descname">midi_mapping_reducer</code><a class="headerlink" href="#beatsearch.rhythm.MidiRhythmCorpus.midi_mapping_reducer" title="Permalink to this definition">¶</a></dt>
<dd><p>The MIDI drum mapping reducer</p>
<p>The MIDI drum mapping reducer applied to the rhythms in this corpus. Note that setting this property is an
expensive operation, as it will iterate over every rhythm to reset its tracks according to the new mapping
reducer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-data docutils literal"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal"><span class="pre">Type</span></code>[<code class="xref py py-class docutils literal"><span class="pre">MidiDrumMappingReducer</span></code>]]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.MidiRhythmCorpus.rhythm_resolution">
<code class="descname">rhythm_resolution</code><a class="headerlink" href="#beatsearch.rhythm.MidiRhythmCorpus.rhythm_resolution" title="Permalink to this definition">¶</a></dt>
<dd><p>The resolution in PPQN</p>
<p>Tick resolution in PPQN (pulses-per-quarter-note) of the rhythms within this corpus. This property will become
a read-only property after the corpus has loaded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">resolution in PPQN of the rhythms in this corpus</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.MidiRhythmCorpus.save_to_cache_file">
<code class="descname">save_to_cache_file</code><span class="sig-paren">(</span><em>cache_file</em>, <em>overwrite=False</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiRhythmCorpus.save_to_cache_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Serializes this MIDI corpus to a pickle file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cache_file</strong> (<code class="xref py py-data docutils literal"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal"><span class="pre">IOBase</span></code>, <code class="xref py py-class docutils literal"><span class="pre">str</span></code>]) &#8211; either an opened file handle in binary-write mode or a file path</li>
<li><strong>overwrite</strong> &#8211; when True, no exception will be raised if a file path is given which already exists</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.MidiRhythmCorpus.unload">
<code class="descname">unload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiRhythmCorpus.unload" title="Permalink to this definition">¶</a></dt>
<dd><p>Unloads this rhythm corpus</p>
<p>This method won&#8217;t have any effect if the corpus has not loaded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="mididrummapping">
<h3>MidiDrumMapping<a class="headerlink" href="#mididrummapping" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="beatsearch.rhythm.MidiDrumMapping">
<em class="property">class </em><code class="descclassname">beatsearch.rhythm.</code><code class="descname">MidiDrumMapping</code><a class="headerlink" href="#beatsearch.rhythm.MidiDrumMapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Midi drum mapping interface</p>
<p>Each MidiDrumMapping object represents a MIDI drum mapping and is a container for MidiDrumKey objects. It provides
functionality for retrieval of these objects, based on either midi pitch, frequency band or key id.</p>
<dl class="method">
<dt id="beatsearch.rhythm.MidiDrumMapping.get_key_by_id">
<code class="descname">get_key_by_id</code><span class="sig-paren">(</span><em>key_id</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiDrumMapping.get_key_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the MidiDrumKey with the given key id</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key_id</strong> (<code class="xref py py-class docutils literal"><span class="pre">str</span></code>) &#8211; key id of the midi drum key</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-data docutils literal"><span class="pre">Optional</span></code>[<a class="reference internal" href="#beatsearch.rhythm.MidiDrumKey" title="beatsearch.rhythm.MidiDrumKey"><code class="xref py py-class docutils literal"><span class="pre">MidiDrumKey</span></code></a>]</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">MidiDrumKey object with the given key id or None if no key found with given key id</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.MidiDrumMapping.get_key_by_midi_pitch">
<code class="descname">get_key_by_midi_pitch</code><span class="sig-paren">(</span><em>midi_pitch</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiDrumMapping.get_key_by_midi_pitch" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the MidiDrumKey with the given midi pitch</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>midi_pitch</strong> (<code class="xref py py-class docutils literal"><span class="pre">int</span></code>) &#8211; midi pitch as an integer</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-data docutils literal"><span class="pre">Optional</span></code>[<a class="reference internal" href="#beatsearch.rhythm.MidiDrumKey" title="beatsearch.rhythm.MidiDrumKey"><code class="xref py py-class docutils literal"><span class="pre">MidiDrumKey</span></code></a>]</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">MidiDrumKey object with the given midi pitch or None if no key found with given pitch</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.MidiDrumMapping.get_keys">
<code class="descname">get_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiDrumMapping.get_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an immutable sequence containing all keys</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">Sequence</span></code>[<a class="reference internal" href="#beatsearch.rhythm.MidiDrumKey" title="beatsearch.rhythm.MidiDrumKey"><code class="xref py py-class docutils literal"><span class="pre">MidiDrumKey</span></code></a>]</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an immutable sequence containing all the keys of this mapping as MidiDrumKey objects</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.MidiDrumMapping.get_keys_with_decay_time">
<code class="descname">get_keys_with_decay_time</code><span class="sig-paren">(</span><em>decay_time</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiDrumMapping.get_keys_with_decay_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the keys with the given decay time</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>decay_time</strong> (<a class="reference internal" href="#beatsearch.rhythm.DecayTime" title="beatsearch.rhythm.DecayTime"><code class="xref py py-class docutils literal"><span class="pre">DecayTime</span></code></a>) &#8211; DecayTime enum object (SHORT, NORMAL or LONG)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">Tuple</span></code>[<a class="reference internal" href="#beatsearch.rhythm.MidiDrumKey" title="beatsearch.rhythm.MidiDrumKey"><code class="xref py py-class docutils literal"><span class="pre">MidiDrumKey</span></code></a>, ...]</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a tuple containing the MidiDrumKey objects with the given decay time or an empty tuple if nothing
found</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.MidiDrumMapping.get_keys_with_frequency_band">
<code class="descname">get_keys_with_frequency_band</code><span class="sig-paren">(</span><em>frequency_band</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiDrumMapping.get_keys_with_frequency_band" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the keys with the given frequency band</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>frequency_band</strong> (<a class="reference internal" href="#beatsearch.rhythm.FrequencyBand" title="beatsearch.rhythm.FrequencyBand"><code class="xref py py-class docutils literal"><span class="pre">FrequencyBand</span></code></a>) &#8211; FrequencyBand enum object (LOW, MID or HIGH)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">Tuple</span></code>[<a class="reference internal" href="#beatsearch.rhythm.MidiDrumKey" title="beatsearch.rhythm.MidiDrumKey"><code class="xref py py-class docutils literal"><span class="pre">MidiDrumKey</span></code></a>, ...]</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a tuple containing the MidiDrumKey objects with the given frequency band or an empty tuple if nothing
found</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="beatsearch.rhythm.MidiDrumMapping.get_name">
<code class="descname">get_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiDrumMapping.get_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of this drum mapping</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">name of this drum mapping as a string</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="create-drum-mapping">
<h3>create_drum_mapping<a class="headerlink" href="#create-drum-mapping" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="beatsearch.rhythm.create_drum_mapping">
<code class="descclassname">beatsearch.rhythm.</code><code class="descname">create_drum_mapping</code><span class="sig-paren">(</span><em>name</em>, <em>keys</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.create_drum_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility function to create a new MIDI drum mapping.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<code class="xref py py-class docutils literal"><span class="pre">str</span></code>) &#8211; name of the drum mapping</li>
<li><strong>keys</strong> (<code class="xref py py-class docutils literal"><span class="pre">Sequence</span></code>[<a class="reference internal" href="#beatsearch.rhythm.MidiDrumKey" title="beatsearch.rhythm.MidiDrumKey"><code class="xref py py-class docutils literal"><span class="pre">MidiDrumKey</span></code></a>]) &#8211; drum mappings as a sequence of <code class="xref py py-class docutils literal"><span class="pre">beatsearch.rhythm.MidiDrumMapping.MidiDrumKey</span></code> objects</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#beatsearch.rhythm.MidiDrumMapping" title="beatsearch.rhythm.MidiDrumMapping"><code class="xref py py-class docutils literal"><span class="pre">MidiDrumMapping</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">midi drum mapping</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="mididrumkey">
<h3>MidiDrumKey<a class="headerlink" href="#mididrumkey" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="beatsearch.rhythm.MidiDrumKey">
<em class="property">class </em><code class="descclassname">beatsearch.rhythm.</code><code class="descname">MidiDrumKey</code><span class="sig-paren">(</span><em>midi_pitch</em>, <em>frequency_band</em>, <em>decay_time</em>, <em>description</em>, <em>key_id=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beatsearch.rhythm.MidiDrumKey" title="Permalink to this definition">¶</a></dt>
<dd><p>Struct-like class holding information about a single key within a MIDI drum mapping</p>
<p>Holds information about the frequency band and the decay time of the drum sound it represents. Also stores the
MIDI pitch ([0, 127]) which is used to produce this sound and an ID, which defaults to the MIDI pitch.</p>
<dl class="attribute">
<dt id="beatsearch.rhythm.MidiDrumKey.decay_time">
<code class="descname">decay_time</code><a class="headerlink" href="#beatsearch.rhythm.MidiDrumKey.decay_time" title="Permalink to this definition">¶</a></dt>
<dd><p>The decay time (DecayTime enum object) of this drum key (read-only)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#beatsearch.rhythm.DecayTime" title="beatsearch.rhythm.DecayTime"><code class="xref py py-class docutils literal"><span class="pre">DecayTime</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.MidiDrumKey.description">
<code class="descname">description</code><a class="headerlink" href="#beatsearch.rhythm.MidiDrumKey.description" title="Permalink to this definition">¶</a></dt>
<dd><p>The description of this drum key as a string (read-only)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.MidiDrumKey.frequency_band">
<code class="descname">frequency_band</code><a class="headerlink" href="#beatsearch.rhythm.MidiDrumKey.frequency_band" title="Permalink to this definition">¶</a></dt>
<dd><p>The frequency band (FrequencyBand enum object) of this drum key (read-only)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#beatsearch.rhythm.FrequencyBand" title="beatsearch.rhythm.FrequencyBand"><code class="xref py py-class docutils literal"><span class="pre">FrequencyBand</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.MidiDrumKey.id">
<code class="descname">id</code><a class="headerlink" href="#beatsearch.rhythm.MidiDrumKey.id" title="Permalink to this definition">¶</a></dt>
<dd><p>The id of this drum key as a string (read-only)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.MidiDrumKey.midi_pitch">
<code class="descname">midi_pitch</code><a class="headerlink" href="#beatsearch.rhythm.MidiDrumKey.midi_pitch" title="Permalink to this definition">¶</a></dt>
<dd><p>The midi pitch of this midi drum key (read-only)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">int</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="frequencyband">
<h3>FrequencyBand<a class="headerlink" href="#frequencyband" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="beatsearch.rhythm.FrequencyBand">
<em class="property">class </em><code class="descclassname">beatsearch.rhythm.</code><code class="descname">FrequencyBand</code><a class="headerlink" href="#beatsearch.rhythm.FrequencyBand" title="Permalink to this definition">¶</a></dt>
<dd><p>Enumeration containing three drum sound frequency bands (low, mid and high)</p>
<dl class="attribute">
<dt id="beatsearch.rhythm.FrequencyBand.HIGH">
<code class="descname">HIGH</code><em class="property"> = 2</em><a class="headerlink" href="#beatsearch.rhythm.FrequencyBand.HIGH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.FrequencyBand.LOW">
<code class="descname">LOW</code><em class="property"> = 0</em><a class="headerlink" href="#beatsearch.rhythm.FrequencyBand.LOW" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.FrequencyBand.MID">
<code class="descname">MID</code><em class="property"> = 1</em><a class="headerlink" href="#beatsearch.rhythm.FrequencyBand.MID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="decaytime">
<h3>DecayTime<a class="headerlink" href="#decaytime" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="beatsearch.rhythm.DecayTime">
<em class="property">class </em><code class="descclassname">beatsearch.rhythm.</code><code class="descname">DecayTime</code><a class="headerlink" href="#beatsearch.rhythm.DecayTime" title="Permalink to this definition">¶</a></dt>
<dd><p>Enumeration containing three drum sound decay times (short, normal and long)</p>
<dl class="attribute">
<dt id="beatsearch.rhythm.DecayTime.LONG">
<code class="descname">LONG</code><em class="property"> = 2</em><a class="headerlink" href="#beatsearch.rhythm.DecayTime.LONG" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.DecayTime.NORMAL">
<code class="descname">NORMAL</code><em class="property"> = 1</em><a class="headerlink" href="#beatsearch.rhythm.DecayTime.NORMAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beatsearch.rhythm.DecayTime.SHORT">
<code class="descname">SHORT</code><em class="property"> = 0</em><a class="headerlink" href="#beatsearch.rhythm.DecayTime.SHORT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="midi.html" class="btn btn-neutral" title="Midi" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2018, Jordi Ortolá Ankum.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.2.a1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>